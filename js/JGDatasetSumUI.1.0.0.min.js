!function(t){if(void 0===JGDatasetUI)return void console.error("can't not initialize JGDatasetSumUI, JGDatasetUI not found");t._JGKeyword=$.extend(t._JGKeyword,{sumui:{trigger:{refresh:"jgdatasetsumui"}}});var e=t.JGDatasetSumUI=function(t,e){this._element=t,this._datasetName=NVL(e,t.attr(_JGKeyword.ui.attrDataset)),this._FXElements=new Array;var r=this._element.find("*");r.push(this._element);for(var a=r.length,i=0;a>i;++i){for(var n=$(r[i]),s=n[0].attributes,o=s.length,d=0;o>d;++d){var u=s[d],_=u.name.toLowerCase();u.name.toLowerCase()!==_JGKeyword.ui.attrColumn&&0===BLK(u.value).replaceBlank("").indexOf(_JGKeyword.ui.keyFXPrefix)&&this._FXElements.push(new JGFXElement(n,_,0))}var g=n.html();0===BLK(g).replaceBlank("").indexOf(_JGKeyword.ui.keyFXPrefix)&&this._FXElements.push(new JGFXElement(n,null,1))}var h=this;$(this.dataset()).on(_JGKeyword.trigger._rowInserted+" "+_JGKeyword.trigger._rowRemoved+" "+_JGKeyword.trigger._rowMoved+" "+_JGKeyword.trigger._columnAdded+" "+_JGKeyword.trigger._columnRemoved+" "+_JGKeyword.trigger._columnValueChanged+" "+_JGKeyword.trigger._datasetClear+" "+_JGKeyword.trigger._datasetReset+" "+_JGKeyword.trigger._datasetChanged+" "+_JGKeyword.trigger._datasetSorted+" "+_JGKeyword.trigger._datasetApply,function(){h.refresh()}),this._refresh()};e.prototype.element=function(){return this._element},e.prototype.datasetName=function(){return this._datasetName},e.prototype.dataset=function(){return JGDS("dataset",this._datasetName)},e.prototype.FXElements=function(){return this._FXElements},e.prototype.refresh=function(){this._refresh(),this._element.trigger(_JGKeyword.sumui.trigger.refresh)},e.prototype._refresh=function(){for(var t=this.FXElements(),e=this.dataset(),r=t.length,a=0;r>a;++a)t[a].update(e)},$.fn._jgDatasetSumUI=function(t){return void 0!==t&&this.data("jgdatasetJGDatasetSumUI",t),this.data("jgdatasetJGDatasetSumUI")},$.fn._jgDatasetSumUIInitialized=function(t){return void 0!==t&&this.data("jgdatasetJGDatasetSumUIInitialized",t),NVL(this.data("jgdatasetJGDatasetSumUIInitialized"),!1)},$.fn.JGDatasetSumUI=function(){return this._jexecute(function(t){return this._jgDatasetSumUIInitialized()||(this._jgDatasetSumUI(new e(this,t[0])),this._jgDatasetSumUIInitialized(!0)),JGSelector(this._jgDatasetSumUI(),t)},arguments)}}(window);