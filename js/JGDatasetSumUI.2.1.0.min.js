(function(window,$){if(JGDatasetUI===undefined){console.error("can't not initialize JGDatasetSumUI, JGDatasetUI not found");return}window._JGKeyword=$.extend(window._JGKeyword,{sumui:{trigger:{refresh:"jgdatasetsumui"}}});var JGDatasetSumUI=window.JGDatasetSumUI=(function(element_,datasetName_){this._element=element_;this._datasetName=NVL(datasetName_,element_.attr(_JGKeyword.ui.attrDataset));this._FXElements=new Array();var fxElements_=this._element.find("*");fxElements_.push(this._element);var fxElementsLength_=fxElements_.length;for(var fxIndex_=0;fxIndex_<fxElementsLength_;++fxIndex_){var fxElement_=$(fxElements_[fxIndex_]);var attrs_=fxElement_[0].attributes;var attrCount_=attrs_.length;for(var attrIndex_=0;attrIndex_<attrCount_;++attrIndex_){var attr_=attrs_[attrIndex_];var attrName_=attr_.name.toLowerCase();if(attr_.name.toLowerCase()!==_JGKeyword.ui.attrColumn&&BLK(attr_.value).replaceBlank("").indexOf(_JGKeyword.ui.keyFXPrefix)===0){this._FXElements.push(new JGFXElement(fxElement_,attrName_,0))}}var textValue_=fxElement_.html();if(BLK(textValue_).replaceBlank("").indexOf(_JGKeyword.ui.keyFXPrefix)===0){this._FXElements.push(new JGFXElement(fxElement_,null,1))}}var that_=this;$(this.dataset()).on(_JGKeyword.trigger._rowInserted+" "+_JGKeyword.trigger._rowRemoved+" "+_JGKeyword.trigger._rowMoved+" "+_JGKeyword.trigger._columnAdded+" "+_JGKeyword.trigger._columnRemoved+" "+_JGKeyword.trigger._columnValueChanged+" "+_JGKeyword.trigger._datasetClear+" "+_JGKeyword.trigger._datasetReset+" "+_JGKeyword.trigger._datasetChanged+" "+_JGKeyword.trigger._datasetSorted+" "+_JGKeyword.trigger._datasetApply,function(event_){that_.refresh()});this._refresh()});JGDatasetSumUI.prototype.element=(function(){return this._element});JGDatasetSumUI.prototype.datasetName=(function(){return this._datasetName});JGDatasetSumUI.prototype.dataset=(function(){return JGDS("dataset",this._datasetName)});JGDatasetSumUI.prototype.FXElements=(function(){return this._FXElements});JGDatasetSumUI.prototype.refresh=(function(){this._refresh();this._element.trigger(_JGKeyword.sumui.trigger.refresh)});JGDatasetSumUI.prototype._refresh=(function(){var fxElements_=this.FXElements();var dataset_=this.dataset();var fxElementsLength_=fxElements_.length;for(var fxIndex_=0;fxIndex_<fxElementsLength_;++fxIndex_){fxElements_[fxIndex_].update(dataset_)}});$.fn._jgDatasetSumUI=(function(ui_){if(ui_!==undefined){this.data("jgdatasetJGDatasetSumUI",ui_)}return this.data("jgdatasetJGDatasetSumUI")});$.fn._jgDatasetSumUIInitialized=(function(bool_){if(bool_!==undefined){this.data("jgdatasetJGDatasetSumUIInitialized",bool_)}return NVL(this.data("jgdatasetJGDatasetSumUIInitialized"),false)});$.fn.JGDatasetSumUI=(function(){return this._jexecute(function(arguments_){if(!this._jgDatasetSumUIInitialized()){this._jgDatasetSumUI(new JGDatasetSumUI(this,arguments_[0]));this._jgDatasetSumUIInitialized(true)}return JGSelector(this._jgDatasetSumUI(),arguments_)},arguments)})})(window,jQuery);