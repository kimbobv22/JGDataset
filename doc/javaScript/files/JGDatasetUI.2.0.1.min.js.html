<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JGDatasetUI.2.0.1.min.js - JGDataset for JavaScript</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../../../logo-small.png" title="JGDataset for JavaScript"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 2.0.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/global.extension.html">global.extension</a></li>
            
                <li><a href="../classes/JGDataset.html">JGDataset</a></li>
            
                <li><a href="../classes/JGDatasetColumn.html">JGDatasetColumn</a></li>
            
                <li><a href="../classes/JGDatasetRow.html">JGDatasetRow</a></li>
            
                <li><a href="../classes/JGDS.html">JGDS</a></li>
            
                <li><a href="../classes/JGFXElement.html">JGFXElement</a></li>
            
                <li><a href="../classes/JGRowContent.html">JGRowContent</a></li>
            
                <li><a href="../classes/jQuery.fn.extension.html">jQuery.fn.extension</a></li>
            
                <li><a href="../classes/jQuery.fn.JGDatasetUI.html">jQuery.fn.JGDatasetUI</a></li>
            
                <li><a href="../classes/jQuery.fn.JGSelect.html">jQuery.fn.JGSelect</a></li>
            
                <li><a href="../classes/jQuery.fn.JGValidator.html">jQuery.fn.JGValidator</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: JGDatasetUI.2.0.1.min.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
(function(window,$,JGDS){

	if(JGDS === undefined){
		console.error(&quot;can&#x27;t not initialize JGDataset UI, JGDataset not found&quot;);
		return;
	}
	
	_JGKeyword = $.extend(true, window._JGKeyword, {
		ui : {
			attrDataset : &quot;jg-dataset&quot;
			,attrColumn : &quot;jg-column&quot;
			,attrBindDataset : &quot;jg-bind-dataset&quot;
			,attrDisplayColumn : &quot;jg-display-column&quot;
			,attrValueColumn : &quot;jg-value-column&quot;
			,keyFXPrefix : &quot;##fx:&quot;
			,trigger : {
				/**
				 * 특정 행과 매핑 시 발생합니다.
				 * 
				 * @event datasetuirowmapped
				 * @param {jQuery Event object} event_ jQuery 이벤트 객체
				 * @param {Number} rowIndex_ 행색인
				 * @for jQuery.fn.JGDatasetUI
				 * @example
				 * 	$(target_).trigger(&quot;datasetuirowmapped&quot;,function(event_, rowIndex_){
				 * 		//to do
				 * 	});
				 */
				rowMapped : &quot;datasetuirowmapped&quot;
				/**
				 * 특정 행의 매핑이 새로 고쳐졌을 때 발생합니다.
				 * 
				 * @event datasetuirefreshed
				 * @param {jQuery Event object} event_ jQuery 이벤트 객체
				 * @param {Number} rowIndex_ 행색인
				 * @for jQuery.fn.JGDatasetUI
				 * @example
				 * 	$(target_).trigger(&quot;datasetuirefreshed&quot;,function(event_, rowIndex_){
				 * 		//to do
				 * 	});
				 */
				,refreshed : &quot;datasetuirefreshed&quot;
				/**
				 * 매핑된 특정 행의 FX수식이 새로 고쳐졌을 때 발생합니다.
				 * 
				 * @event datasetuifxrefreshed
				 * @param {jQuery Event object} event_ jQuery 이벤트 객체
				 * @param {Number} rowIndex_ 행색인
				 * @for jQuery.fn.JGDatasetUI
				 * @example
				 * 	$(target_).trigger(&quot;datasetuifxrefreshed&quot;,function(event_, rowIndex_){
				 * 		//to do
				 * 	});
				 */
				,FXRefreshed : &quot;datasetuifxrefreshed&quot;
				/**
				 * 특정 행열의 매핑이 새로 고쳐졌을 때 호출됩니다.
				 * 
				 * @event datasetuicolumnrefreshed
				 * @param {jQuery Event object} event_ jQuery 이벤트 객체
				 * @param {String} columnName_ 열명
				 * @param {Number} rowIndex_ 행색인
				 * @for jQuery.fn.JGDatasetUI
				 * @example
				 * 	$(target_).trigger(&quot;datasetuicolumnrefreshed&quot;,function(event_, columnName_, rowIndex_){
				 * 		//to do
				 * 	});
				 */
				,columnRefreshed : &quot;datasetuicolumnrefreshed&quot;
				/**
				 * 매핑이 재적재되었을 때 발생합니다.
				 * 
				 * @event datasetuimappingreloaded
				 * @param {jQuery Event object} event_ jQuery 이벤트 객체
				 * @for jQuery.fn.JGDatasetUI
				 * @example
				 * 	$(target_).trigger(&quot;datasetuimappingreloaded&quot;,function(event_){
				 * 		//to do
				 * 	});
				 */
				,mappingReloaded : &quot;datasetuimappingreloaded&quot;
			}
		},select : {
			trigger : {
				selectReloaded : &quot;selectreloaded&quot;
			}
		}
	})
	
	String.prototype._jgFuncConvertToColumnRegexp = (function(){
		return new RegExp(&quot;\\#\\#(&quot; + this + &quot;)\\#\\#&quot;, &quot;gi&quot;);
	});
	String.prototype._jgFuncReplaceRegexpByDataset = (function(dataset_, rowIndex_){
		var targetStr_ = this;

		//replace with row index
		targetStr_ = targetStr_.replace(&quot;dataset\\.rowIndex&quot;._jgFuncConvertToColumnRegexp(), rowIndex_);
		
		//replace with row status
		targetStr_ = targetStr_.replace(&quot;dataset\\.rowStatus&quot;._jgFuncConvertToColumnRegexp(), dataset_.getRowStatus(rowIndex_));
		
		//replace with row count
		targetStr_ = targetStr_.replace(&quot;dataset\\.rowCount&quot;._jgFuncConvertToColumnRegexp(), dataset_.getRowCount());
		
		//replace with column count
		targetStr_ = targetStr_.replace(&quot;dataset\\.columnCount&quot;._jgFuncConvertToColumnRegexp(), dataset_.getColumnCount());
		
		//replace with row stacked sum
		var sumRegexp_ = &quot;dataset\\.sum\\([\\s\\w\\#\\@\\-\\+\\*\\/\\%]*\\)&quot;._jgFuncConvertToColumnRegexp();
		if(sumRegexp_.test(targetStr_)){
			
			var columnCount_ = dataset_.getColumnCount();
			for(var columnIndex_=0;columnIndex_&lt;columnCount_;++columnIndex_){
				var columnItem_ = dataset_.getColumn(columnIndex_);
				var columnName_ = columnItem_.getName();
				var columnRegexp_ = columnName_._jgFuncConvertToColumnRegexp();
				
				if(columnRegexp_.test(targetStr_)){
					var columnValueSum_ = 0;
					for(var tRowIndex_ = 0; tRowIndex_&lt;=rowIndex_;++tRowIndex_){
						var columnValue_ = parseInt(dataset_.getColumnValue(columnName_,tRowIndex_));
						columnValueSum_ += columnValue_;
					}
					targetStr_ = targetStr_.replace(columnRegexp_, columnValueSum_);
				}
			}
			
			targetStr_ = targetStr_.replace(&quot;dataset\\.sum&quot;._jgFuncConvertToColumnRegexp(), dataset_.getRowCount());
			targetStr_ = targetStr_.substr(targetStr_.indexOf(&quot;(&quot;)+1);
			targetStr_ = targetStr_.substr(0,targetStr_.indexOf(&quot;)##&quot;));
		}
		
		//replace column data
		var columnCount_ = dataset_.getColumnCount();
		for(var columnIndex_=0;columnIndex_&lt;columnCount_;++columnIndex_){
			var columnItem_ = dataset_.getColumn(columnIndex_);
			var columnName_ = columnItem_.getName();
			var columnValue_= dataset_.getColumnValue(columnName_,rowIndex_);
			targetStr_ = targetStr_.replace(columnName_._jgFuncConvertToColumnRegexp(), NVL(columnValue_, &quot;null&quot;));
		}
		
		return targetStr_;
	});
	
	/**
	 * jQuery 기능확장함수입니다.
	 * @class jQuery.fn.extension
	 */
	/**
	 * 특정색인에 jQuery Element를 삽입합니다.
	 * 
	 * @method insertAtIndex
	 * @param {jQuery Object} element_ 삽입대상객체
	 * @param {Number} index_ 색인
	 * @return {jQuery Object} 삽입대상
	 * @example
	 * 	$(target_).insertAtIndex(&quot;&lt;div&gt;test&lt;/div&gt;&quot;,3);
	 */
	$.fn.insertAtIndex = (function(element_,index_){
		var lastIndex_ = this.children().size();
		if(index_ &lt; 0){
			index_ = Math.max(0, lastIndex_ + 1 + index_);
		}
		this.append(element_);
		if(index_&lt;lastIndex_){
			this.children().eq(index_).before(this.children().last());
		}
		return this;
	});
	/**
	 * select 태그의 값을 반환합니다.
	 * 
	 * @method selectValue
	 * @return {String} 값
	 * @example
	 * 	var result_ = $(&quot;&lt;select&gt;&lt;option value=&#x27;testValue&#x27;&gt;test&lt;/option&gt;&lt;/select&quot;).selectValue();
	 */
	$.fn.selectValue = (function(){
		if(this.prop(&quot;tagName&quot;).toLowerCase() !== &quot;select&quot;) return undefined;
		return this.children(&quot;option:selected&quot;).first().attr(&quot;value&quot;);
	});
	
	/**
	 * JGDatasetUI의 확장함수입니다.&lt;br&gt;
	 * 데이타셋에 매핑되어 있는 모든 View를 반환합니다.
	 * 
	 * @method datasetUIView
	 * @return {Array} 배열
	 * @for JGDataset
	 */
	JGDataset.prototype.datasetUIView = (function(){
		return $(document).find(&quot;[&quot;+_JGKeyword.ui.attrDataset+&quot;=&#x27;&quot;+this.getName()+&quot;&#x27;]&quot;).filter(function(){
			return $(this)._jgDatasetUIInitialized();
		}); 
	});
	/**
	 * HTML과 JGDataset의 매핑을 위한 플러그인입니다.&lt;br&gt;
	 * 함수호출 형식은 아래와 같습니다.
	 * 	
	 * 	//1. jQuery Plugin Style
	 * 	var result_ = $(target_).JGDatasetUI(&quot;함수명&quot;,...);
	 * 	
	 * 	//2. normal Style
	 * 	var datasetUI_ = $(target_).JGDatasetUI();
	 * 	var result_ = datasetUI_.함수명();
	 * 
	 * JGDatasetUI 샘플은 &lt;a href=&quot;http://kimbobv22.github.io/JGDataset/index.html&quot; target=&quot;_blank&quot;&gt;여기&lt;/a&gt;에서 확인할 수 있습니다.
	 * 
	 * @class jQuery.fn.JGDatasetUI
	 * @constructor
	 * @example
	 * 	//1. 정의되어 있는 속성값을 이용하여 초기화
	 * 	&lt;div jg-dataset=&quot;datasetName&quot; id=&quot;target&quot;&gt;
	 * 		...
	 * 	&lt;/div&gt;
	 * 	&lt;script type=&quot;text/javascript&quot;&gt;
	 * 	$(&quot;#target&quot;).JGDatasetUI();
	 * 	&lt;/script&gt;
	 * 	
	 * 	//2. 매개변수를 이용하여 초기화
	 * 	&lt;div id=&quot;target&quot;&gt;
	 * 		...
	 * 	&lt;/div&gt;
	 * 	&lt;script type=&quot;text/javascript&quot;&gt;
	 * 	$(&quot;#target&quot;).JGDatasetUI(&quot;datasetName&quot;);
	 * 	&lt;/script&gt;
	 */
	var JGDatasetUI = window.JGDatasetUI = (function(element_, datasetName_){
		var that_ = this;
		this._element = element_;
		this._datasetName = NVL(datasetName_,element_.attr(_JGKeyword.ui.attrDataset));
		
		if(isNull(this.dataset())){
			console.error(&quot;can&#x27;t find JGDataset&quot;);
			return;
		}
		
		this._originalRowContent = this._element.children().first().clone(true);
		this._element.empty();
		this._rowContents = new Array();
		var dataset_ = this.dataset();
		
		// row inserted
		$(dataset_).on(_JGKeyword.trigger._rowInserted,function(event_, rowIndex_){
			that_._insertRowContent(rowIndex_);
		});
		
		// row removed
		$(dataset_).on(_JGKeyword.trigger._rowRemoved,function(event_, rowIndex_){
			that_._removeRowContent(rowIndex_);
		});
		
		// row moved
		$(dataset_).on(_JGKeyword.trigger._rowMoved,function(event_, fromRowIndex_, toRowIndex_){
			if(fromRowIndex_ &gt; toRowIndex_){
				that_._refresh(toRowIndex_,fromRowIndex_); 
			}else that_._refresh(fromRowIndex_,toRowIndex_);
			
		});
		
		// column added,removed
		$(dataset_).on(_JGKeyword.trigger._columnAdded+&quot; &quot;
				+_JGKeyword.trigger._columnRemoved,function(event_, columnName_){
			that_._refreshColumn(columnName_, undefined, undefined, false);
			that_._refreshFX();
		});
		
		// column value changed
		$(dataset_).on(_JGKeyword.trigger._columnValueChanged,function(event_, columnName_, rowIndex_){
			that_._refreshColumn(columnName_, rowIndex_, undefined, false);
			that_._refreshFX();
		});
		
		// dataset clear,reset,changed,sorted
		$(dataset_).on(_JGKeyword.trigger._datasetClear+&quot; &quot;
				+_JGKeyword.trigger._datasetReset+&quot; &quot;
				+_JGKeyword.trigger._datasetChanged+&quot; &quot;
				+_JGKeyword.trigger._datasetSorted,function(event_, rowIndex_, oldRowIndex_){
			that_.reload();
		});
		
		// dataset changed
		$(dataset_).on(_JGKeyword.trigger._datasetApply,function(event_){
			that_._refreshFX();
		});
		
		this.reload();
	});
	
	/**
	 * 매핑되어 있는 jQuery 객체를 반환합니다.
	 * 
	 * @return {jQuery Object} jQuery 객체
	 * @example
	 * 	var element_ = $(target_).JGDatasetUI(&quot;element&quot;);
	 */
	JGDatasetUI.prototype.element = (function(){
		return this._element;
	});
	/**
	 * 매핑되어 있는 데이타셋을 반환합니다.
	 * 
	 * @return {JGDataset} 데이타셋
	 * @example
	 * 	var element_ = $(target_).JGDatasetUI(&quot;dataset&quot;);
	 */
	JGDatasetUI.prototype.dataset = (function(){
		return JGDS(&quot;dataset&quot;,this._datasetName);
	});
	
	/**
	 * 특정 행색인에 매핑되어 있는 행컨텐츠를 반환합니다.
	 * 
	 * @param {Number} rowIndex_ 행색인
	 * @return {JGRowContent} 행컨텐츠
	 * @example
	 * 	var element_ = $(target_).JGDatasetUI(&quot;rowContent&quot;,rowIndex_);
	 */
	JGDatasetUI.prototype.rowContent = (function(rowIndex_){
		return this._rowContents[rowIndex_];
	});
	
	JGDatasetUI.prototype._insertRowContent = (function(rowIndex_){
		var rowContent_ = new JGRowContent(this,this._originalRowContent);
		this._rowContents.insert(rowContent_, rowIndex_);
		this.element().insertAtIndex(rowContent_.rowContent(), rowIndex_);
		this._refresh(rowIndex_, undefined, false);
		this.element().trigger(_JGKeyword.ui.trigger.rowMapped,[rowIndex_]);
		return rowContent_;
	});
	JGDatasetUI.prototype._removeRowContent = (function(rowIndex_){
		var rowContent_ = this.rowContent(rowIndex_);
		rowContent_.rowContent().remove();
		this._rowContents.remove(rowIndex_);
		this._refreshFX(rowIndex_);
	});
	/**
	 * 매핑되어 있는 행컨텐츠의 행색인을 반환합니다.
	 * 
	 * @param {JGRowContent} rowIndex_ 행컨텐츠
	 * @return {Number} 행색인
	 * @example
	 * 	var element_ = $(target_).JGDatasetUI(&quot;indexOf&quot;,rowContent_);
	 */
	JGDatasetUI.prototype.indexOf = (function(rowContent_){
		return this._rowContents.indexOf(rowContent_);
	});
	
	JGDatasetUI.prototype.__rowRangeRefresh = (function(fromRowIndex_, toRowIndex_, refreshFunc_){
		var rowCount_ = this.dataset().getRowCount();
		if(isNull(fromRowIndex_)){
			fromRowIndex_ = NVL(fromRowIndex_,0);
			toRowIndex_ = NVL(toRowIndex_,rowCount_-1);
		}else{
			toRowIndex_ = NVL(toRowIndex_,fromRowIndex_);
		}
		
		for(var rowIndex_=fromRowIndex_;rowIndex_&lt;=toRowIndex_;++rowIndex_){
			refreshFunc_(this, rowIndex_);
		}
	});
	JGDatasetUI.prototype._refreshFX = (function(fromRowIndex_, toRowIndex_, fireEvent_){
		this.__rowRangeRefresh(fromRowIndex_, toRowIndex_,function(that_, rowIndex_){
			that_.rowContent(rowIndex_)._refreshFX();
			if(NVL(fireEvent_,true)) $(that_.element()).trigger(_JGKeyword.ui.trigger.FXRefreshed,[rowIndex_]);
		});
	});
	JGDatasetUI.prototype._refreshColumn = (function(columnName_, fromRowIndex_, toRowIndex_, refreshFx_, fireEvent_){
		refreshFx_ = NVL(refreshFx_,true);
		this.__rowRangeRefresh(fromRowIndex_, toRowIndex_,function(that_, rowIndex_){
			that_.rowContent(rowIndex_)._refreshColumn(columnName_, refreshFx_);
			if(NVL(fireEvent_,true)) $(that_.element()).trigger(_JGKeyword.ui.trigger.columnRefreshed,[columnName_, rowIndex_]);
		});
	});
	JGDatasetUI.prototype._refresh = (function(fromRowIndex_, toRowIndex_, fireEvent_){
		this.__rowRangeRefresh(fromRowIndex_, toRowIndex_,function(that_, rowIndex_){
			that_.rowContent(rowIndex_)._refresh();
			if(NVL(fireEvent_,true)) $(that_.element()).trigger(_JGKeyword.ui.trigger.refreshed,[rowIndex_]);
		});
	});
	
	/**
	 * 매핑 재적재를 수행합니다.
	 * 
	 * @example
	 * 	var element_ = $(target_).JGDatasetUI(&quot;reload&quot;);
	 */
	JGDatasetUI.prototype.reload = (function(){
		this.element().empty();
		this._rowContents = new Array();
		var dataset_ = this.dataset();
		var rowCount_ = dataset_.getRowCount();
		var tempIndex_ = 0;
		while(tempIndex_ &lt; rowCount_){
			this._insertRowContent(this._rowContents.length);
			++tempIndex_;
		}
		$(this.element()).trigger(_JGKeyword.ui.trigger.mappingReloaded);
	});
	
	$.fn._jgDatasetUI = (function(ui_){
		if(ui_ !== undefined) this.data(&quot;jgdatasetJGDatasetUI&quot;,ui_);
		return this.data(&quot;jgdatasetJGDatasetUI&quot;);
	});
	$.fn._jgDatasetUIInitialized = (function(bool_){
		if(bool_ !== undefined) this.data(&quot;jgdataset_jgDatasetInitialized&quot;,bool_);
		return NVL(this.data(&quot;jgdataset_jgDatasetInitialized&quot;),false);
	});
	$.fn.JGDatasetUI = (function(){
		if(!this._jgDatasetUIInitialized()){
			this._jgDatasetUI(new JGDatasetUI(this, arguments[0]));
			this._jgDatasetUIInitialized(true);
		}
		
		return JGSelector(this._jgDatasetUI(), arguments);
	});
	
	$.fn._jgDataRowContent = (function(rowContent_){
		if(rowContent_ === undefined) return this.data(&quot;jgdataset_rowContent&quot;);
		this.data(&quot;jgdataset_rowContent&quot;,rowContent_);
		return this.data(&quot;jgdataset_rowContent&quot;);
	});
	$.fn._jgDataJGDataset = (function(){
		return this._jgDataRowContent().datasetUI().dataset();
	});
	/**
	 * JGDatasetUI 매핑 시 각 행에 대한 매핑정보를 적재하고 있습니다.&lt;br&gt;
	 * 사용자가 임의로 생성할 수 없으며 매핑 시 자동으로 생성됩니다.&lt;br&gt;
	 * *참고 : {{#crossLink &quot;jQuery.fn.JGDatasetUI&quot;}}{{/crossLink}}
	 * 
	 * @class JGRowContent
	 * @constructor
	 * @param {jQuery Object} datasetUI_ JGDatasetUI가 매핑된 jQuery Object
	 * @param {jQuery Object} rowContent_ 원본 행컨텐츠
	 */
	var JGRowContent = (function(datasetUI_, rowContent_){
		this._datasetUI = datasetUI_;
		this._rowContent = rowContent_.clone(true,true);
		this._mappedElements = new Array();
		this._FXElements = new Array();
		
		var mappedElements_ = this._rowContent.find(&quot;*[&quot;+_JGKeyword.ui.attrColumn+&quot;]&quot;);
		var mappedElementsLength_ = mappedElements_.length;
		for(var mapIndex_=0;mapIndex_&lt;mappedElementsLength_;++mapIndex_){
			var mappedElement_ = $(mappedElements_[mapIndex_]);
			var tagName_ = mappedElement_.prop(&quot;tagName&quot;).toLowerCase();
			mappedElement_._jgDataRowContent(this);
			this._mappedElements.push(mappedElement_);
			
			var commonEventOnChange_ = (function(event_){
				var target_ = $(event_.target);
				var rowContent_ = target_._jgDataRowContent();
				var dataset_ = rowContent_.datasetUI().dataset();
				var columnName_ = target_.attr(_JGKeyword.ui.attrColumn);
				var rowIndex_ = rowContent_.rowIndex();
				
				dataset_.setColumnValue(columnName_, rowIndex_, target_.val(), true);
			});
			
			//input event
			if(tagName_ === &quot;input&quot;){
				var inputType_ = NVL(mappedElement_.attr(&quot;type&quot;), &quot;text&quot;);
				if(inputType_ === &quot;checkbox&quot;){
					mappedElement_.on(&quot;click change&quot;,function(event_){
						var target_ = $(event_.target);
						var rowContent_ = target_._jgDataRowContent();
						var dataset_ = rowContent_.datasetUI().dataset();
						var columnName_ = target_.attr(_JGKeyword.ui.attrColumn);
						var rowIndex_ = rowContent_.rowIndex();
						
						dataset_.setColumnValue(columnName_, rowIndex_, target_.prop(&quot;checked&quot;), true);
					});
				}else{
					mappedElement_.on(&quot;keyup change&quot;,commonEventOnChange_);
				}
			}
			//contenteditable div
			else if(tagName_ === &quot;div&quot; &amp;&amp; mappedElement_.prop(&quot;contenteditable&quot;)){
				mappedElement_.on(&quot;change&quot;, function(event_){
					var target_ = $(event_.target);
					var rowContent_ = target_._jgDataRowContent();
					var dataset_ = rowContent_.datasetUI().dataset();
					var columnName_ = target_.attr(_JGKeyword.ui.attrColumn);
					var rowIndex_ = rowContent_.rowIndex();
					
					dataset_.setColumnValue(columnName_, rowIndex_, target_.html(), true);
				});
				mappedElement_.on(&quot;keyup&quot;, function(event_){
					var target_ = $(event_.target);
					target_.trigger(&quot;change&quot;);
				});
			}
			//select event
			else if(tagName_ === &quot;select&quot;){
				if(!isNull(mappedElement_.attr(_JGKeyword.ui.attrBindDataset))){
					mappedElement_.JGSelect();
				}
				
				mappedElement_.on(&quot;change&quot;,function(event_){
					var target_ = $(event_.target);
					var rowContent_ = target_._jgDataRowContent();
					var dataset_ = rowContent_.datasetUI().dataset();
					var columnName_ = target_.attr(_JGKeyword.ui.attrColumn);
					var rowIndex_ = rowContent_.rowIndex();
					
					dataset_.setColumnValue(columnName_, rowIndex_, target_.selectValue(), true);
				});
				
				$(mappedElement_).on(_JGKeyword.select.trigger.selectReloaded,function(event_){
					var target_ = $(event_.target);
					var rowContent_ = target_._jgDataRowContent();
					var dataset_ = rowContent_.datasetUI().dataset();
					var columnName_ = target_.attr(_JGKeyword.ui.attrColumn);
					var rowIndex_ = rowContent_.rowIndex();
					
					target_.val(dataset_.getColumnValue(columnName_, rowIndex_));
				});
			}
			//label,etc event
			else{
				/*do nothing*/
			}
		}
		
		var fxElements_ = this._rowContent.find(&quot;*&quot;);
		fxElements_.push(this._rowContent);
		var fxElementsLength_ = fxElements_.length;
		for(var fxIndex_=0;fxIndex_&lt;fxElementsLength_;++fxIndex_){
			var fxElement_ = $(fxElements_[fxIndex_]);
			var attrs_ = fxElement_[0].attributes;
			var attrCount_ = attrs_.length;
			
			for(var attrIndex_ =0; attrIndex_&lt;attrCount_;++attrIndex_){
				var attr_ = attrs_[attrIndex_];
				var attrName_ = attr_.name.toLowerCase();
				if(attr_.name.toLowerCase() !== &quot;jg-column&quot;
					&amp;&amp; BLK(attr_.value).indexOf(_JGKeyword.ui.keyFXPrefix) === 0){
					this._FXElements.push(new JGFXElement(this,fxElement_,attrName_,0))
				}
			}
			
			var textValue_ = fxElement_.html();
			if(BLK(textValue_).indexOf(_JGKeyword.ui.keyFXPrefix) === 0){
				this._FXElements.push(new JGFXElement(this,fxElement_,null,1))
			}
		}
	});
	
	/**
	 * 매핑되어 있는 JGDatasetUI를 반환합니다.
	 * 
	 * @method datasetUI
	 * @return {JGDatasetUI} 매핑된 JGDatasetUI
	 */
	JGRowContent.prototype.datasetUI = (function(){
		return this._datasetUI;
	});
	/**
	 * 현재 행컨텐츠의 색인을 반환합니다.
	 * 
	 * @method rowIndex
	 * @return {Number} 색인
	 */
	JGRowContent.prototype.rowIndex = (function(){
		return this.datasetUI().indexOf(this);
	});
	/**
	 * 원본 행컨텐츠를 반환합니다.
	 * 
	 * @method rowContent
	 * @return {jQuery Object} jQuery 객체
	 */
	JGRowContent.prototype.rowContent = (function(){
		return this._rowContent;
	});
	/**
	 * 열매핑되어 있는 jQuery 객체를 반환합니다.
	 * 
	 * @method mappedElements
	 * @return {Array} 열매핑되어 있는 jQuery 객체
	 */
	JGRowContent.prototype.mappedElements = (function(){
		return this._mappedElements;
	});
	/**
	 * FX수식매핑되어 있는 jQuery 객체를 반환합니다.
	 * 
	 * @method FXElements
	 * @return {Array} FX수식매핑되어 있는 jQuery 객체
	 */
	JGRowContent.prototype.FXElements = (function(){
		return this._FXElements;
	});
	
	JGRowContent.prototype._refreshFX = (function(){
		var fxElements_ = this.FXElements();
		var fxElementsLength_ = fxElements_.length;
		for(var fxIndex_=0;fxIndex_&lt;fxElementsLength_;++fxIndex_){
			fxElements_[fxIndex_].update();
		}
	});
	JGRowContent.prototype._refreshColumn = (function(columnName_, refreshFX_){
		columnName_ = columnName_.toUpperCase();
		refreshFX_ = NVL(refreshFX_,true);
		var columnValue_ = this.datasetUI().dataset().getColumnValue(columnName_, this.rowIndex());
		var mappedElements_ = this.mappedElements();
		var eCount_ = mappedElements_.length;
		for(eIndex_=0;eIndex_&lt;eCount_;++eIndex_){
			var mappedElement_ = $(mappedElements_[eIndex_]);
			if(mappedElement_.attr(&quot;jg-column&quot;).toUpperCase() === columnName_){
				var tagName_ = mappedElement_.prop(&quot;tagName&quot;).toLowerCase();
				
				//input type - checkbox
				if(tagName_ === &quot;input&quot; &amp;&amp; mappedElement_.attr(&quot;type&quot;) === &quot;checkbox&quot;){
					columnValue_ = (columnValue_ === true || columnValue_ === &quot;true&quot;);
					if(mappedElement_.prop(&quot;checked&quot;) !== columnValue_) 
						mappedElement_.prop(&quot;checked&quot;, columnValue_);
				}
				//input type - exclude checkbox
				else if(tagName_ === &quot;input&quot;){
					if(mappedElement_.val() !== columnValue_){
						mappedElement_.val(columnValue_);
					}
				}
				//select
				else if(tagName_ === &quot;select&quot;){
					if(mappedElement_.val() !== columnValue_){
						mappedElement_.val(columnValue_);
					}
				}
				//label or others
				else{
					columnValue_ = BLK(columnValue_);
					if(mappedElement_.html() !== columnValue_)
						mappedElement_.html(columnValue_);
				}
			}
		}
		if(refreshFX_) this._refreshFX();
	});
	JGRowContent.prototype._refresh = (function(){
		var dataset_ = this.datasetUI().dataset();
		var colCount_ = dataset_.getColumnCount();
		for(var colIndex_=0;colIndex_&lt;colCount_;++colIndex_){
			this._refreshColumn(dataset_.getColumn(colIndex_).getName(), false);
		}
		
		this._refreshFX();
	});
	
	/**
	 * JGDatasetUI에서 FX수식을 위한 객체입니다.&lt;br&gt;
	 * 사용자가 임의로 생성할 수 없으며, JGDatasetUI 매핑 시 생성될 수 있습니다.&lt;br&gt;
	 * *참고 : {{#crossLink &quot;jQuery.fn.JGDatasetUI&quot;}}{{/crossLink}}
	 * 
	 * @class JGFXElement
	 * @constructor
	 * @param {JGRowContent} rowContent_ 행컨텐츠
	 * @param {jQuery Object} element_ JGDatasetUI가 매핑되어 있는 jQuery 객체
	 * @param {String} [attrName_] FX수식을 매핑할 속성명(Text 매핑 시 생략가능)
	 * @param {Number} type_ FX수식 매핑 유형(0 - 속성, 1 - Text)
	 */
	var JGFXElement = (function(rowContent_, element_, attrName_, type_){
		this._rowContent = rowContent_;
		this._element = element_;
		this._attrName = attrName_;
		this._type = type_;
		
		switch(type_){
		case 0: //attribute
			this._fx = element_.attr(attrName_).substr(_JGKeyword.ui.keyFXPrefix.length);
			break;
		case 1: //node text
			this._fx = element_.html().substr(_JGKeyword.ui.keyFXPrefix.length);
			break;
		default:
			console.error(&quot;invaild FX Element Type&quot;);
			break;
		}
	});
	
	/**
	 * 매핑되어 있는 행컨텐츠를 반환합니다.
	 * 
	 * @method rowContent
	 * @return {JGRowContent} 행컨텐츠
	 */
	JGFXElement.prototype.rowContent = (function(){
		return this._rowContent;
	});
	/**
	 * 매핑되어 있는 jQuery 객체를 반환합니다.
	 * 
	 * @method element
	 * @return {jQuery Object} jQuery 객체
	 */
	JGFXElement.prototype.element = (function(){
		return this._element;
	});
	/**
	 * 매핑되어 있는 속성명을 반환합니다.
	 * 
	 * @method attrName
	 * @return {String} 속성명
	 */
	JGFXElement.prototype.attrName = (function(){
		return this._attrName;
	});
	/**
	 * 매핑유형을 반환합니다.
	 * 
	 * @method type
	 * @return {Number} 매핑유형
	 */
	JGFXElement.prototype.type = (function(){
		return this._type;
	});
	/**
	 * FX매핑을 새로고침을 수행합니다.
	 * 
	 * @method update
	 */
	JGFXElement.prototype.update = (function(){
		var rowContent_ = this.rowContent();
		var dataset_ = rowContent_.datasetUI().dataset();
		var rowIndex_ = rowContent_.rowIndex();
		
		var resultStr_ = null;
		try{
			resultStr_ = BLK(new Function(&quot;return &quot;+this._fx._jgFuncReplaceRegexpByDataset(dataset_,rowIndex_)+&quot;;&quot;).apply(dataset_));
		}catch(ex_){
			resultStr_ = &quot;##fx Exception: &quot;+ex_.toString()+&quot;, statement: &quot;+this._fx+&quot;##&quot;;
		}
		
		switch(this.type()){
		case 0: //attribute
			this.element().attr(this.attrName(),resultStr_);
			break;
		case 1: //node text
			this.element().html(resultStr_);
			break;
		default:
			console.error(&quot;invaild FX Element Type&quot;);
			break;
		}
	});
	
	/**
	 * select 태그와 매핑을 위한 객체입니다.&lt;br&gt;
	 * 함수호출 형식은 아래와 같습니다.
	 * 	
	 * 	//1. jQuery Plugin Style
	 * 	var result_ = $(target_).JGSelect(&quot;함수명&quot;,...);
	 * 	
	 * 	//2. normal Style
	 * 	var select_ = $(target_).JGSelect();
	 * 	var result_ = select_.함수명();
	 * 	
	 * @class jQuery.fn.JGSelect
	 * @param {jQuery Object} element_ 매핑할 jQuery 객체
	 * @constructor
	 * @example
	 * 	//1. 미리 정의된 속성값을 이용하여 초기화
	 * 	&lt;select jg-bind-dataset=&quot;datasetName&quot;
	 * 			jg-display-column=&quot;nm&quot;
	 * 			jg-value-column=&quot;id&quot;&gt;&lt;/select&gt;
	 * 	&lt;script type=&quot;text/javascript&quot;&gt;
	 * 	$(target_).JGSelect();
	 * 	&lt;/script&gt;
	 * 	
	 * 	//2. 매개변수를 이용하여 초기화
	 * 	&lt;select&gt;&lt;/select&gt;
	 * 	&lt;script type=&quot;text/javascript&quot;&gt;
	 * 	$(target_).JGSelect({datasetName : &quot;datasetName&quot;
	 * 						,displayColumn : &quot;nm&quot;
	 * 						,valueColumn : &quot;id&quot;});
	 * 	&lt;/script&gt;
	 */
	var JGSelect = (function(element_, options_){
		var that_ = this;
		options_ = $.extend({
				datasetName : element_.attr(_JGKeyword.ui.attrBindDataset)
				,displayColumn : element_.attr(_JGKeyword.ui.attrDisplayColumn)
				,valueColumn : element_.attr(_JGKeyword.ui.attrValueColumn)
			},options_);
		this._element = element_;
		this._datasetName = options_.datasetName;
		this._displayColumn = options_.displayColumn;
		this._valueColumn = options_.valueColumn;
		var dataset_ = this.dataset();
		
		// dataset data event
		$(dataset_).on(_JGKeyword.trigger._rowInserted+&quot; &quot;
				+_JGKeyword.trigger._rowRemoved+&quot; &quot;
				+_JGKeyword.trigger._rowMoved+&quot; &quot;
				+_JGKeyword.trigger._columnAdded+&quot; &quot;
				+_JGKeyword.trigger._columnRemoved+&quot; &quot;
				+_JGKeyword.trigger._columnValueChanged+&quot; &quot;
				+_JGKeyword.trigger._datasetClear+&quot; &quot;
				+_JGKeyword.trigger._datasetReset+&quot; &quot;
				+_JGKeyword.trigger._datasetChanged+&quot; &quot;
				+_JGKeyword.trigger._datasetSorted, function(event_, rowIndex_){
			that_.reload();
		});
		
		this.reload();
	});
	
	/**
	 * JGSelect에 매핑되어 있는 jQuery Object를 반환합니다.
	 * 
	 * @method element
	 * @return {jQuery Object} jQuery 객체
	 * @example
	 * 	var result_ = $(target_).JGSelect(&quot;element&quot;);
	 */
	JGSelect.prototype.element = (function(){
		return this._element;
	});
	/**
	 * JGSelect에 매핑되어 있는 JGDataset을 반환합니다.
	 * 
	 * @method dataset
	 * @return {JGDataset} 데이타셋
	 * @example
	 * 	var result_ = $(target_).JGSelect(&quot;dataset&quot;);
	 */
	JGSelect.prototype.dataset = (function(){
		return JGDS(&quot;dataset&quot;,this._datasetName);
	});
	/**
	 * JGSelect에 매핑되어 있는 전시열명을 반환합니다.
	 * 
	 * @method displayColumn
	 * @return {String} 전시열명
	 * @example
	 * 	var result_ = $(target_).JGSelect(&quot;displayColumn&quot;);
	 */
	JGSelect.prototype.displayColumn = (function(){
		return this._displayColumn;
	});
	
	/**
	 * JGSelect에 매핑되어 있는 값열명을 반환합니다.
	 * 
	 * @method valueColumn
	 * @return {String} 값열명
	 * @example
	 * 	var result_ = $(target_).JGSelect(&quot;valueColumn&quot;);
	 */
	JGSelect.prototype.valueColumn = (function(){
		return this._valueColumn;
	});
	/**
	 * JGSelect에 매핑을 재적재합니다.
	 * 
	 * @method reload
	 * @example
	 * 	var result_ = $(target_).JGSelect(&quot;reload&quot;);
	 */
	JGSelect.prototype.reload = (function(){
		var element_ = this.element();
		element_.empty();
		function createOptionElement_(display_,value_){
			return $(&quot;&lt;option value=&#x27;&quot;+value_+&quot;&#x27;&gt;&quot;+display_+&quot;&lt;/option&gt;&quot;);
		};
		
		var dataset_ = this.dataset();
		var rowCount_ = dataset_.getRowCount();
		for(var rowIndex_=0;rowIndex_&lt;rowCount_;++rowIndex_){
			element_.append(createOptionElement_(
				dataset_.getColumnValue(this.displayColumn(),rowIndex_)
				,dataset_.getColumnValue(this.valueColumn(),rowIndex_)
			));
		}
		element_.trigger(_JGKeyword.select.trigger.selectReloaded);
	});
	
	$.fn._jgSelect = (function(select_){
		if(select_ !== undefined) this.data(&quot;jgdatasetJGSelect&quot;,select_);
		return this.data(&quot;jgdatasetJGSelect&quot;);
	});
	$.fn._jgSelectInitialized = (function(bool_){
		if(bool_ !== undefined) this.data(&quot;jgdatasetJGSelectInitialized&quot;,bool_);
		return NVL(this.data(&quot;jgdatasetJGSelectInitialized&quot;),false);
	});
	$.fn.JGSelect = (function(){
		if(!this._jgSelectInitialized()){
			this._jgSelect(new JGSelect(this, arguments[0]));
			this._jgSelectInitialized(true);
		}
		
		return JGSelector(this._jgSelect(), arguments);
	});
	
})(window,jQuery,JGDS);
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
